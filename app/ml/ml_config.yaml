# ML 개발자 설정 (알고리즘 기본 파라미터 + Optuna 탐색 공간)
# 운영자 설정(markets, algorithms, target_days 등)은 DB(ml_train_config)에서 관리

algorithms:
  random_forest:
    classifier: sklearn.ensemble.RandomForestClassifier
    defaults:
      class_weight: "balanced"
      random_state: 42
      n_jobs: -1
    search_space:
      n_estimators: { type: int, low: 100, high: 500, step: 50 }
      max_depth: { type: int, low: 5, high: 20 }
      min_samples_split: { type: int, low: 2, high: 20 }
      min_samples_leaf: { type: int, low: 1, high: 10 }

  xgboost:
    classifier: xgboost.XGBClassifier
    defaults:
      random_state: 42
      eval_metric: "logloss"
      verbosity: 0
    search_space:
      n_estimators: { type: int, low: 100, high: 500, step: 50 }
      max_depth: { type: int, low: 3, high: 10 }
      learning_rate: { type: float, low: 0.01, high: 0.3, log: true }
      subsample: { type: float, low: 0.6, high: 1.0 }
      colsample_bytree: { type: float, low: 0.6, high: 1.0 }
      scale_pos_weight: { type: float, low: 0.5, high: 2.0 }

  lightgbm:
    classifier: lightgbm.LGBMClassifier
    defaults:
      is_unbalance: true
      random_state: 42
      verbose: -1
    search_space:
      n_estimators: { type: int, low: 100, high: 500, step: 50 }
      num_leaves: { type: int, low: 15, high: 63 }
      learning_rate: { type: float, low: 0.01, high: 0.3, log: true }
      feature_fraction: { type: float, low: 0.6, high: 1.0 }
      bagging_fraction: { type: float, low: 0.6, high: 1.0 }
      bagging_freq: { type: int, low: 1, high: 7 }
